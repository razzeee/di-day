---
import BaseLayout from "../../layouts/BaseLayout.astro";
import FAQItem from "../../components/FAQItem";
import { getRelativeLocaleUrl } from "astro:i18n";
import { useTranslations } from "../../utils/i18n";

const lang = "de";
const t = useTranslations(lang);
const faqs = t.faqs.items;
---

<BaseLayout
  title={`${t.nav.faqs} | Digital Independence Day`}
  description={t.faqs.desc}
>
  <!-- Schema.org FAQPage structured data -->
  <script
    type="application/ld+json"
    slot="head"
    set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "FAQPage",
      mainEntity: faqs.map((faq) => ({
        "@type": "Question",
        name: faq.question,
        acceptedAnswer: {
          "@type": "Answer",
          text: faq.answer,
        },
      })),
    })}
  />
  <div class="container mx-auto px-4 py-12 max-w-4xl">
    <header class="text-center mb-12">
      <h1 class="text-4xl md:text-5xl font-display font-bold mb-4">
        {t.faqs.title}
      </h1>
      <p class="text-xl text-gray-600 dark:text-gray-400">
        {t.faqs.desc}
      </p>
    </header>

    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8">
      {
        faqs.map((faq) => (
          <FAQItem question={faq.question} answer={faq.answer} client:load />
        ))
      }
    </div>

    <div class="mt-12 text-center">
      <p class="text-gray-600 dark:text-gray-400 mb-4">
        {t.faqs.moreQuestions}
      </p>
      <a
        href={getRelativeLocaleUrl(lang, "newsletter")}
        class="inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg font-semibold hover:bg-primary-700 transition-colors"
      >
        {t.faqs.cta}
      </a>
    </div>
  </div>
</BaseLayout>
