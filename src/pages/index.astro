---
import BaseLayout from '../layouts/BaseLayout.astro';
import RecipeCard from '../components/RecipeCard';
import NewsletterForm from '../components/NewsletterForm';
import { getCollection } from 'astro:content';

const recipes = (await getCollection('recipes')).filter(recipe => recipe.data.lang === 'de');
const featuredRecipes = recipes.slice(0, 3);
---

<BaseLayout>
	<section class="relative bg-gradient-to-br from-primary-600 to-accent-600 text-white py-20 overflow-hidden">
		<!-- Hero background image -->
		<div class="absolute inset-0 opacity-20">
			<img src="/hero1.jpg" alt="" class="w-full h-full object-cover" />
		</div>

		<!-- Content overlay -->
		<div class="relative container mx-auto px-4 text-center">
			<h1 class="text-5xl md:text-6xl font-display font-bold mb-6">
				Jeden ersten Sonntag auf die gute Seite wechseln!
			</h1>
			<p class="text-xl md:text-2xl mb-8 text-primary-100">
				Am 1. Februar findet der nächste DI.DAY statt
			</p>
			<div class="flex flex-col sm:flex-row gap-4 justify-center">
				<a
					href="/rezepte"
					class="px-8 py-4 bg-white text-primary-600 rounded-lg font-semibold hover:bg-primary-50 transition-colors shadow-lg"
				>
					Wechselrezepte entdecken
				</a>
				<a
					href="/alternativen"
					class="px-8 py-4 bg-primary-700 text-white rounded-lg font-semibold hover:bg-primary-800 transition-colors"
				>
					Mehr Alternativen
				</a>
			</div>
		</div>
	</section>

	<section class="py-16 bg-gray-50 dark:bg-gray-900">
		<div class="container mx-auto px-4">
			<h2 class="text-3xl md:text-4xl font-display font-bold text-center mb-12">
				Beliebte Wechselrezepte
			</h2>
			<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
				{featuredRecipes.map((recipe) => (
					<RecipeCard recipe={recipe} client:load />
				))}
			</div>
			<div class="text-center mt-12">
				<a
					href="/rezepte"
					class="inline-flex items-center text-primary-600 dark:text-primary-400 font-semibold hover:underline"
				>
					Alle Rezepte ansehen →
				</a>
			</div>
		</div>
	</section>

	<section class="py-16">
		<div class="container mx-auto px-4">
			<div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
				<div>
					<h2 class="text-3xl md:text-4xl font-display font-bold mb-6">
						Warum digitale Unabhängigkeit?
					</h2>
					<div class="space-y-4 text-gray-600 dark:text-gray-400">
						<p>
							Große Tech-Konzerne sammeln massiv Daten, beeinflussen durch Algorithmen unsere
							Wahrnehmung und haben enormen Einfluss auf unser Leben.
						</p>
						<p>
							Es gibt für fast jeden Dienst datenschutzfreundliche und ethische Alternativen.
							Der Wechsel ist oft einfacher als gedacht!
						</p>
					</div>
					<div class="mt-8">
						<a
							href="/faqs"
							class="inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg font-semibold hover:bg-primary-700 transition-colors"
						>
							Mehr erfahren
						</a>
					</div>
				</div>
				<div>
					<NewsletterForm client:load />
				</div>
			</div>
		</div>
	</section>

	<section class="py-16 bg-gray-50 dark:bg-gray-900">
		<div class="container mx-auto px-4 text-center">
			<h2 class="text-3xl md:text-4xl font-display font-bold mb-6">
				Gemeinsam sind wir stärker
			</h2>
			<p class="text-xl text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto">
				Jeder kleine Schritt zählt. Teile deine Erfahrungen und hilf anderen beim Wechsel.
			</p>
			<div class="flex flex-col sm:flex-row gap-4 justify-center">
				<a
					href="/zusammen"
					class="px-6 py-3 bg-primary-600 text-white rounded-lg font-semibold hover:bg-primary-700 transition-colors"
				>
					Gemeinsam wechseln
				</a>
				<a
					href="/sprichdrueber"
					class="px-6 py-3 border-2 border-primary-600 text-primary-600 dark:text-primary-400 rounded-lg font-semibold hover:bg-primary-50 dark:hover:bg-primary-950 transition-colors"
				>
					Sprich drüber
				</a>
			</div>
		</div>
	</section>
</BaseLayout>
