---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import RecipeCard from "../../../components/RecipeCard";
import { getCollection } from "astro:content";
import { useTranslations } from "../../../utils/i18n";
import { getRelativeLocaleUrl } from "astro:i18n";

const lang = "de";
const t = useTranslations(lang);

const recipes = (await getCollection("recipes")).filter(
  (recipe) => recipe.data.lang === "de"
);
---

<BaseLayout
  title="Wechselrezepte | Digital Independence Day"
  description="Schritt-f체r-Schritt Anleitungen zum Wechsel zu digitaler Unabh채ngigkeit"
>
  <div class="container mx-auto px-4 py-12">
    <header class="text-center mb-12">
      <h1 class="text-4xl md:text-5xl font-display font-bold mb-4">
        Wechselrezepte
      </h1>
      <p class="text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
        Schritt-f체r-Schritt Anleitungen zum Wechsel zu digitaler Unabh채ngigkeit
      </p>
    </header>

    <div
      class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"
      transition:animate="fade"
    >
      {
        recipes.map((recipe) => (
          <RecipeCard
            recipe={recipe}
            seeText={t.recipe.see}
            href={getRelativeLocaleUrl(
              lang,
              `recipes/${recipe.id.replace(/^de\//, "").replace(/\.md$/, "")}`
            )}
            client:load
          />
        ))
      }
    </div>
  </div>
</BaseLayout>
